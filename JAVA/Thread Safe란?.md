### 쓰레드 세이프란? 
- 멀티 쓰레드 프로그래밍에서 어떤 공유 자원에 여러 쓰레드가 동시에 접근해도 프로그램 실행에 문제가 없는 상태를 의미
</br>

### Tread Safe를 지키기 위한 방법
1. Mutual exclusion (상호배제)
2. Atomic Operation (원자 연산)
3. Thread-local storage (쓰레드 지역 저장소)
4. Re-entrancy (재진입성)

### 상호배제
- 공유자원에 하나의 Tread만 접근할 수 있도록, 세마포어/뮤텍스로 Lock을 통제하는 방법
- (적용예시)</br> 
1. Python은 Thread Safe하게 메로리 관리 하지 않으므로, GIL을 이용해 Thread Safe를 보장 </br>
2. Python에서 Threading.lock이 있는데 Threading.lock을 acqurie하면 해당 쓰레드만 공유 데이터에 접근할 수 있고 lock을 release 해야만 다른 쓰레드에서 공유 데이터에 접근할 수 있음</br>
3. Java의 Syncronized 동기화 객체 

### 원자 연산
- 공유자원에 원자적으로 접근하는 방법으로 접근할 때 원자 연산을 이용하거나 원자적으로 정의된 접근방식을 사용함으로써 상호 배제를 구현할 수 있음</br>

- 공유 자원 변경에 필요한 연산을 원자적으로 분리한 뒤,
- 실제로 데이터의 변경이 이뤄지는 시점에서 Lock을 걸고
- 데이터 변경하는 시간 동안, 다른 쓰레드의 접근이 불가능하도록 하는 방법 
- (적용예시)
</br>a+=b의 경우, 먼저 + 연산을 한 뒤 = 연산을 하기 때문에 원자적으로 볼 수 없음

### 스레드 지역 저장소
- 공유자원의 사용을 최대한 줄이고, 각각의 쓰레드에서만 접근이 가능한 저장소들을 사용함으로써 동시 접근을 막는 방법
- 공유상태를 피할 수 없을때 사용하는 방식이며, 전역 변수 사용을 자제하라는 뜻

### 재진입성
- 쓰레드 호출과 상관없이 프로그램에 문제가 없도록 작성하는 방법
- 어떤 함수가 한 쓰레드에 의해 호출되어 실행 중일 때, 다른 스레드가 그 함수를 호출하더라도 그 결과가 각각에게 올바로 주어져야함
- 즉, 스레드끼리 독립적일 수 있게 코드를 조심히 짜기
</br>
</br>

### JAVA 프로그래밍에서 Thread-Safe하게 설계하는 방법
1. Java.util.concurrent 패키지 하위 클래스 사용
2. 인스턴스 변수를 두지 않음
3. Singleton 패턴을 사용함 (좀 주의해야함)
4. 동기화(Syncronized)블록에서 연산을 수용
