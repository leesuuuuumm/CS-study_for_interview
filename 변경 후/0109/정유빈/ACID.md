<h1> 트랜잭션 </h1>

- DBMS에서 데이터를 다루는 논리적인 작업 단위

- 트랜잭션은 전체가 수행되거나 또는 전혀 수행되지 않아야 한다.(All or Nothing)

- 예를 들어, A계좌에서 B계좌로 돈을 이체하는 경우, A에서 돈을 빼고 B에 돈을 더하는 2개의 SQL문이 하나의 트랜잭션으로 묶인다. <br />
  
  <h3> 트랜잭션 ACID 성질 </h3>
  
  - 원자성(Atomicity)
    - 트랜잭션에 포함된 작업은 전부 수행되거나 전부 수행되지 않아야 한다.

  - 일관성(Consistency)
    - 트랜잭션을 수행하기 전이나 후는 데이터베이스는 항상 일관된 상태를 유지해야 한다.
    - ex) 어떤 테이블의 기본키와 같은 속성은 유지되어야 한다.

  - 고립성(Isolation)
    - 수행 중인 트랜잭션에 다른 트랜잭션이 끼어들여 변경중인 데이터 값을 훼손하지 않아야 한다.
    - 트랜잭션은 상호 간의 존재는 모르고 독립적으로 수행되어야 한다.


  - 지속성(Durablity) = 영속성
    - 수행을 성공적으로 완료한 트랜잭션은 변경한 데이터를 영구히 저장해야 한다.
    - 장애발생 후에도 변함없이 보관되어야 한다는 의미
    - 지속성은 트랜잭션의 성공 결과 값은 장애 발생 후에도 변함없이 보관되어야 한다는 것
    - 트랜잭션이 정상적으로 완료(Commit)된 경우에는 버퍼의 내용을 하드디스크(데이터베이스)에 확실히 기록하여야 하며, 부분완료(Partial Commit)된 경우에는 작업을 취소해야 한다.
    - 즉, 정상적으로 완료 혹은 부분 완료된 데이터는 DBMS가 책임지고 데이터베이스에 기록하는 성질

  <h3> 기타 개념들 </h3>
  - 트랜잭션은 활동(Active), 부분완료(Partially Commited), 완료(Commited), 실패(Failed), 철회(Aborted) 5가지 상태를 가진다.
  
    <h4> 활동 </h4>
    
    - Begin transaction으로부터 실행을 시작하였거나 실행 중인 상태

    <h4> 부분 완료 </h4>
    
    - 마지막 명령문을 실행시킨 직후의 상태를 의미하며, 실패 또는 완료의 상태로 전이하게 된다.

    <h4> 실패 </h4>
    
    - 트랜잭션의 실행 중에 장애나 오류가 발생하여 정상적인 실행을 할 수 없는 상태로, Rollback에 의해 트랜잭션이 재시작되거나 강제종료 된다.
    
    - 트랜잭션 자체의 논리적인 오류가 아닌 경우에는 재시작되며, 트랜잭션의 내부에 논리적인 오류에 의해 오류를 수정해야 하는 상황이거나 얻고자 하는 데이터가 <br>
      데이터베이스에 존재하지 않는 경우 강제 종료된다.

      ![image](https://user-images.githubusercontent.com/62228401/211226189-877bed51-576d-4048-883e-ae91b7e30afe.png)
