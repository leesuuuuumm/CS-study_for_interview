<h1> 트랜잭션 </h1>

- 데이터베이스를 변경하는 한꺼번에 모두 수행되어야 할 논리적 단위

<h1> 트랜잭션 특징 </h3>

- 데이터베이스 시스템에서 병행 제어 및 회복 작업 시 처리되는 작업의 논리적 단위
- 하나의 트랜잭션은 Commit되거나 Rollback된다.

<h1> 트랜잭션의 성질 </h1>

<h3> 원자성 - Atomicity </h3> 

- 트랜잭션의 연산은 데이터베이스에 모두 반영되거나 전혀 반영되지 않아야 한다.
- 트랜잭션 내의 모든 명령은 반드시 완벽히 수행되어야 하며, 모두가 완벽히 수행되지 않고 어느 하나라도 오류가 발생하면 트랜잭션 전부가 취소되어야 함

<h3> 일관성 - Consistency </h3>

- 트랜잭션을 수행하기 전이나 후나 데이터베이스는 항상 일관된 상태를 유지해야 한다.
- 예시로, 도메인 무결성 제약 조건, 개체 무결성 제약 조건, 참조 무결성 제약 조건을 지켜야 한다.
- 무결성이란, 데이터베이스에 저장된 데이터의 일관성과 정확성을 지키는 것을 말한다.
- 도메인 무결성 제약 조건이란, 릴레이션 내의 튜플들이 각 속성의 도메인에 지정된 값만을 가져야 한다는 조건이다.
- 개체 무결성 제약 조건이란, 기본키는 NULL값을 가져서는 안 되며, 릴레이션 내에 오직 하나의 값만 존재해야 한다는 조건이다.
- 참조 무결성 제약 조건이란, 릴레이션 간의 참조 관계를 선언하는 제약 조건으로, 자식 릴레이션의 외래키는 부모 릴레이션의 기본키와 도메인이 동일해야 하며, 자식 릴레이션의 값이 변경될 때 부모 릴레이션의 제약을 받는다는 것이다.

<h3> 고립성 - Isolation </h3> 

- 수행 중인 트랜잭션에 다른 트랜잭션이 끼어들어 변경 중인 데이터 값을 훼손하지 않아야 한다.

<h3> 지속성 - Durabilty </h3>

- 트랜잭션의 성공 결과 값은 장애 발생 후에도 변함없이 보관되어야 한다는 것으로, 트랜잭션이 정상적으로 완료(Commit)된 경우에는 버퍼의 내용을 하드디스크(데이터베이스)에 확실히 기록하여야 하며, 부분 완료(Partial Commit)된 경우에는 작업을 취소하여야 합니다.
- 즉, 정상적으로 완료 혹은 부분 완료된 데이터는 DBMS가 책임지고 데이터베이스에 기록하는 성질이 지속성이며 영속성이라고 합니다.


<h1> 트랜잭션과 DBMS </h1>

- DBMS는 원자성을 유지하기 위해 회복(복구) 관리자 프로그램을 작동시킴
  - 일부만 진행된 트랜잭션을 취소시킴
- DBMS는 일관성을 유지하기 위해 동시성 제어 알고리즘과 무결성 제약 조건을 활용함
- DBMS는 고립성을 유지하기 위해 동시성 제어 알고리즘을 작동시킴
  - 동시에 접근하지 않도록 동시성 제어(Locking)을 활용하여 이를 해결
  - 파일 시스템과 같은 경우처럼 값이 덮어 씌워지는(Overwrite)의 경우 일관성이 무너질 수 있고 그러한 경우 고립성에 위배되는 경우이므로 Locking을 하여 이를 만족시킨다.
- DBMS는 지속성을 유지하기 위해 회복 관리자 프로그램을 작동시킴

