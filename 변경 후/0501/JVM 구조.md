<h1> JVM이란? </h1>

- JVM은 Java Virtual Machine의 약자로, 자바 가상 머신이라고 부른다.
- 자바와 운영체제 사이에서 중개자 역할을 수행하며, 자바가 운영체제에 구애받지 않고 프로그램을 실행할 수 있도록 도와준다.
- 또한, 가비지 컬렉터를 사용한 메모리 관리도 자동으로 수행하며, 다른 하드웨어와 다르게 레지스터 기반이 아닌 스택 기반으로 동작합니다.

- 아래는 자바 프로그램의 실행 단계이다.

![image](https://user-images.githubusercontent.com/62228401/235345313-227ef74b-8038-4b23-870e-3fb295c1d68b.png)

- 먼저, 자바 컴파일러에 의해 자바 소스 파일은 바이트 코드로 변환됩니다.
- 그리고 이러한 바이트 코드를 JVM에서 읽어들인 다음에, 이것저것 복잡한 과정을 거쳐 어떤 운영체제든 간에 프로그램을 실행할 수 있도록 만드는 것입니다.
- 만약, 자바 소스 파일은 리눅스에서 만들었고 윈도우에서 이 파일을 실행하고 싶다면, 윈도우용 JVM을 설치만 하면 됩니다.
- 여기서 JVM은 운영체제에 종속적이라는 특징을 알 수 있습니다.

<h1> JVM 메모리 구조 </h1>

- 위에서 자바 프로그램의 실행 단계를 아주 간략하게 소개하였는데, JVM의 구체적인 수행 과정은 언급하지 않았습니다.
- 이제부터 JVM이 정확히 어떻게 동작하고 구조가 어떤지 알아보자.
- JVM의 구조는 크게 보면, Garbage Collector, Execution Engine, Class Loader, Runtime Data Area로 4가지로 나눌 수 있습니다.

![image](https://user-images.githubusercontent.com/62228401/235345587-42b365ff-e372-4c13-bdd4-6c3731d1b7a7.png)

- 위에서 설명하였듯이, 자바 소스 파일은 자바 컴파일러에 의해서 바이트 코드 형태인 클래스 파일이 됩니다.
- 그리고 이 클래스 파일은 클래스 로더가 읽어 들이면서 JVM이 수행됩니다.

<b> (1) Class Loader </b>

- JVM 내로 클래스 파일을 로드하고, 링크를 통해 배치하는 작업을 수행하는 모듈이다.
- 런타임 시에 동시적으로 클래스를 로드합니다.

<b> (2) Execution Engine </b>

- 클래스 로더를 통해 JVM 내의 Runtime Data Area에 배치된 바이트 코드들을 명령어 단위로 읽어서 실행합니다.
- 최초 JVM이 나왔을 당시에는 인터프리터 방식이었기 때문에 속도가 느리다는 단점이 있었지만 JIT 컴파일러 방식을 통해 이 점을 보완하였습니다.
- JIT는 바이트 코드를 어셈블러 같은 네이티브 코드로 바꿈으로써 실행이 빠르지만 역시 변환하는데 비용이 발생했습니다.
- 이 같은 이유로 JVM은 모든 코드를 JIT 컴파일러 방식으로 실행하지 않고, 인터프리터 방식을 사용하다가 일정한 기이 넘어가면 JIT 컴파일러 방식으로 진행합니다.

<b> (3) Garbage Collector </b>

- Garbage Collector(GC)는 힙 메모리 영역에 생성된 객체들 중에서 참조되지 않은 객체들을 탐색 후 제거하는 역할읋 합니다.
- 이 때, GC가 역할을 하는 시간은 언제인지 정확히 알 수 없습니다.

<b> (4) Runtime Data Area </b>

- JVM의 메모리 영역으로 자바 애플리케이션을 실행할 때 사용되는 데이터들을 적재하는 영역입니다.
- 이 영역은 크게 Method Area, Heap Area, Stack Area, PC Register, Native Method Stack으로 나눌 수 있다.

![image](https://user-images.githubusercontent.com/62228401/235346128-634e3586-9818-4c76-9b25-23fcfd38f12c.png)

<b> (1) Method Area </b>

- 모든 쓰레드가 공유하는 메모리 영역이다.
- 메소드 영역은 클래스, 인터페이스, 메소드, 필드, Static 변수 등의 바이트 코드를 보관합니다.

