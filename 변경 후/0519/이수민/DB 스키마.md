# DB 스키마란?
- 데이터베이스의 구조와 제약 조건에 관한 전반적인 명세를 기술한 메타데이터의 집합이다.
- 데이터베이스를 구성하는 데이터 개체(Entity), 속성(Attribute), 관계(Relationship) 및 데이터 조작 시 데이터 값들이 갖는 제약 조건 등에 관해 전반적으로 정의한다.
- 사용자 관점에 따라 외부 스키마, 개념 스키마, 내부 스키마로 나눠진다.

</br>

#### 개체(Entity): 데이터로 표현하려고 하는 객체(여러 속성들로 구성) / ER 다이어그램에서 네모로 표현
#### 속성(Attribute): 개체가 갖는 속성 / ER 다이어그램에서 원으로 표현
#### 관계(Relation): 개체와 개체 사이의 연관성 / ER 다이어그램에서 마름모로 표현

</br>

## 스키마 특징
1. 스키마는 데이터 사전에 저장되며, 다른 이름으로 메타데이터라 한다.
2. 스키마는 현실 세계의 특정한 부분의 표현으로서 특정 데이터 모델을 이용해서 만들어진다.
3. 스키마는 시간에 따라 불변인 특성을 갖는다.
4. 스키마는 데이터의 구조적 특성을 의미하여, 인스턴스에 의해 규정된다.


</br>


# 스키마의 3계층
- 데이터베이스 관리 시스템은 외부적 스키마에 따라 명시된 사용자의 요구를 개념적 스키마에 적합한 형태로 변경하고, 이를 다시 내부적 스키마에 적합한 형태로 변환한다.

</br>

![image](https://github.com/leesuuuuumm/CS-study_for_interview/assets/58407737/b5297c0a-40c5-45aa-87a6-062531721341)

### 외부 스키마(External Schema) = 사용자 뷰(View)
- 사용자나 응용프로그래머가 각 개인의 입장에서 필요로 하는 데이터베이스의 논리적 구조를 정의한 것이다.
- 전체 데이터베이스의 한 논리적인 부분으로 볼 수 있으므로 서브 스키마라 한다.
- 하나의 데이터베이스 시스템에서 여러개의 외부 스키마가 존재할 수 있으며 하나의 외부 스키마를 여러개의 응용 프로그램이나 사용자가 공용할 수 있다.
- 일반 사용자는 질의어(SQL)을 이용하여 DB를 쉽게 사용할 수 있다.
- 응용 프로그래머는 C, JAVA 등의 언어를 사용하여 DB에 접근한다.

</br>

### 개념 스키마(Conceptual Schema) = 전체적인 뷰(View)
- 데이터베이스의 전체적인 논리적 구조로서, 모든 응용 프로그램이나 사용자들이 필요로 하는 데이터를 종합한 조직 전체의 데이터베이스로 하나만 존재한다.
- 개체간의 관계나 제약 조건을 나타내고, 데이터베이스의 접근 권한, 보안 및 무결성 규칙에 관한 명세를 정의한다.
- 데이터베이스 파일에 저장되는 데이터의 형태를 나타내는 것으로, 단순히 스키마(Schema)라고 하면 개념 스키마를 의미한다.
- 기관이나 조직체의 관점에서 데이터베이스를 정의한것이다.
- 데이터베이스 관리자(DBA)에 의해서 구성된다.

</br>

### 내부 스키마(Internal Schema) = 저장 스키마(Storage Schema)
- 물리적 저장장치의 입장에서 본 데이터베이스 구조로, 물리적인 저장장치와 밀접한 계층이다.
- 실제로 데이터베이스에 저장될 레코드의 물리적인 구조를 정의하고, 저장 데이터 항목의 표현방법, 내부 레코드의 물리적 순서 등 나타낸다.
- 시스템 프로그래머나 시스템 설계자가 보는 관점의 스키마다.

</br>

## 데이터 독립성
- 데이터베이스 내의 데이터, 데이터를 사용하는 사용자 및 응용 프로그램, 데이터베이스의 저장 구조가 서로 영향을 받지 않는 성질이다.

</br>

- 논리적 독립성: 개념 스키마가 변경되어도, 외부 스키마에 영향을 주지 않는다.
- 물리적 독립성: 내부 스키마가 변경되어도, 개념 스키마/외부 스키마에 영향을 주지 않는다.

</br>

- 예를 들어, 저장 구조등이 물리적으로 변경되어도 다른 스키마와 독립적인 것을 의미한다.


</br>
===================================================================

## 스키마란?

- 데이터베이스 어떻게 설계할지에 대한 계획 즉, 구조와 제약 조건을 정하는 것입니다.

- 구체적으로 데이터는 어떤 것들로 구성하며, 데이터들은 어떤 테이블에 저장되며, 여러 테이블들을 어떤 관계를 가지고 있는지를 계획합니다.

 

- scheme과 schema는 거의 같은 의미지만 scheme은 구체적이고 확정된 계획, schema는 대략적인 계획이나 도식을 의미한다.

- 아래는 데이터베이스 구조를 보여주는 이미지인데, 이와 같이 데이터베이스는 여러 스키마로 이뤄져 있습니다. 

![image](https://github.com/leesuuuuumm/CS-study_for_interview/assets/58407737/39cf0071-7120-44aa-8d3d-2a3ee1cba08b)



 </br>

- 스키마는 아래와 같이 여러 테이블의 구조를 설계한 것입니다.

![image](https://github.com/leesuuuuumm/CS-study_for_interview/assets/58407737/c84821d2-fa6f-42d8-a05c-baab0e6703a8) 

</br>


## 스키마 특징

1. 데이터 사전에 저장됩니다.

2. 시간이 지나도 변하지 않습니다.

3. 현실 세계의 특정한 부분을 모델로 만들어집니다.

4. 데이터 구조의 특성을 의미하며, 인스턴스에 의해 규정됩니다.
 

* 데이터 사전은 데이터베이스 전반에 대한 정보를 제공하는 테이블 및 뷰들의 집합입니다.

* 인스턴스는 스키마에 대한 실제 데이터를 의미하며, 인스턴스들이 모여 데이터베이스의 상태가 됩니다.


</br>

## 스키마의 3단계 구조
- 스키마는 구조를 바라보는 입장에 따라서 3가지가 존재합니다.


### 외부 스키마(서브 스키마)

- 외부(사용자)에서 바라보는 스키마를 의미합니다.

- 사용자들이 사용할 데이터들을 보여주는 것이기 때문에 추상화가 되어있고, 여러 사용자가 바라보는 관점에 따라 여러 스키마가 존재할 수 있습니다.

- 예를 들어 네이버 데이터베이스는 네이버 메일 스키마, 네이버 카페 스키마,네이버 블로그 스키마 등이 존재할 것입니다.

- 또한 사용자는 데이터베이스에서 데이터를 사용하는 사람이므로 응용 프로그래머라고 볼 수 있습니다.

- 사용자는 어떤 데이터가 필요한지를 결정하기 때문에 쿼리를 이용해서 데이터를 조작할 수 있습니다.


- 즉, 응용 프로그래머는 외부 스키마를 통해 구조를 확인하고 DML을 사용해서 데이터를 이용합니다. 

</br>

## 개념 스키마

- 전체적인 개념을 정의하는 것을 의미합니다.

- 전체 데이터베이스가 어떤 구조로 되었는지 구체적으로 어떤 데이터가 있고, 그 데이터들은 어떤 테이블에 있고, 각 테이블마다 어떤 관계가 존재하는지를 정의합니다.

- 데이터베이스 자체의 전체적인 구조를 확인하기 때문에 개념 스키마를 확인하는 사람은 데이터베이스 관리자 즉, DBA입니다.

- 즉, DBA는 개념 스키마를 통해서 전체적인 구조의 개념를 확인하고 DDL과 DCL을 사용해서 구조를 설계합니다.

</br>

## 내부 스키마

- 실제 데이터의 내부를 정의하는 것을 의미합니다.

- 데이터의 내부 즉, 데이터의 필드 이름이 무엇이고, 해당 필드는 몇 Byte이며 인덱스가 있는지 등을 정의합니다.

- 이것은 곧 데이터를 물리적으로 어떻게 저장할지에 대해 정의한 것이므로 저장 스키마라고도 부릅니다.

- 물리적 저장장치의 입장으로 바라보기 때문에 내부 스키마를 확인하는 사람은 시스템 프로그래머입니다.

- 시스템 프로그래머란 컴퓨터를 작동시키고 컴퓨터의 활동을 조정,통제하는 OS를 설계하는 프로그래머입니다.

- 즉, 시스템 프로그래머는 내부 스키마를 통해서 데이터의 내부 구조를 확인하고 물리적인 데이터 구조를 설계합니다.

</br>
